#!/usr/bin/env bash
ga0(){ local a5=$(git config user.name);local a6=$(git config user.email);local a7=$(tput setaf 2);local a8=$(tput setaf 1);local a9=$(tput setaf 5);local a10=$(tput sgr0);local a11="\t";a1(){ echo "${1}${2}${a10}";};is_git_repo="$(git rev-parse --is-inside-work-tree 2>/dev/null)";a2(){ local a12=$(whoami);local a13="/Users/${a12}";local a14=$(pwd);a14=${a14/"${a13}"/'~'};printf "📂  Path            : $(a1 $a7 $a14)\n";};a3(){ local a15=$(git rev-list --all --count $2);[[ -z "$a15" ]]&&echo "${1}: $(a1 $a9 "There is no a15 in the repo.")";[[ "$a15" -eq "0" ]]&&a15="0.99999";local a16=$(git shortlog -s -n --all $2 --email|grep "${a5}"|cut -d "${a5:0:1}" -f 1|xargs echo);[[ -z "$a16" ]]&&a16="1";local a17=$(bc -l<<<"scale=1; ${a16} * 100 /${a15}");a15=${a15%.*};echo "${1}: ${a15} (Mine: $(a1 $a9 "~${a17}%") ${a16})";};a4(){ local a18=$(pwd);local a19="";for i in $(find . -maxdepth 1 -type d);do local a20="$(pwd)$(echo "$i"|cut -c 2-)";if [ -d "$a20" ]&&[ -x "$a20" ];then cd "$a20";local a21=$(git rev-parse --is-inside-work-tree 2>/dev/null);if [ "$a21" ];then a19=$(printf "${a19}\n${a11}$(a1 $a9 "${i}")");fi;fi;cd "$a18";done;[[ $a19 = *[!\ ]* ]]&&printf "❓  Git repos       :\n$a19\n\n";};echo;if [ "$is_git_repo" ];then branch=$(printf "${a7}$(git branch|grep -e "*"|cut -c 3-)${a10}");repo_name=$(basename -s .git $(git config --get remote.origin.url));a2;echo "🏠  Repository      : ${a7}${repo_name} ${a10}(Contributors: ${a9}$(git shortlog --summary|wc -l|xargs)${a10})";echo "🐒  User            : ${a7}<${a6}>${a10} (${a5})";a3 "🔥  Commits (Merge) " "--merges";a3 "🔥  Commits         " "--no-merges";echo "📌  Branch          : ${branch} (Total: ${a9}$(git branch -a|wc -l|xargs))${a10}";echo "🛳️  HEAD is:        : ${a9}$(git log origin/master..HEAD|grep "^Author:"|wc -l|xargs)${a10} Commits away from${a7} origin/master${a10}";local a22=$(git s --short);a22=${a22:-"${a11}🐒   no-changes"};printf "👌  Status... \n\n$(a1 $a9 "$a22")\n";else echo "⭕  Error           : $(a1 $a8 "No .git repo found.")";a2;a4;fi;};pwd;ga0